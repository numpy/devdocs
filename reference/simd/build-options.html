
<!DOCTYPE html>


<html lang="en" data-content_root="../../" data-theme="light">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>CPU Build Options &#8212; NumPy v2.4.dev0 Manual</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Vibur" />
    <link rel="stylesheet" type="text/css" href="../../_static/jupyterlite_sphinx.css?v=8ee2c72c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../_static/numpy.css?v=e8edb4a7" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../_static/documentation_options.js?v=530e9895"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=30646c52"></script>
    <script src="../../_static/jupyterlite_sphinx.js?v=96e329c5"></script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script data-domain="numpy.org/doc/stable/" defer="defer" src="https://views.scientific-python.org/js/script.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'reference/simd/build-options';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://numpy.org/doc/_static/versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'devdocs';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            true;
        </script>
    <link rel="icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="How does the CPU dispatcher work?" href="how-it-works.html" />
    <link rel="prev" title="CPU/SIMD optimizations" href="index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="2.4.dev0" />
    <meta name="docbuild:last-update" content="Oct 25, 2025"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="light">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
    
    <img src="../../_static/numpylogo.svg" class="logo__image only-light" alt="NumPy v2.4.dev0 Manual - Home"/>
    <img src="../../_static/numpylogo_dark.svg" class="logo__image only-dark pst-js-only" alt="NumPy v2.4.dev0 Manual - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../user/index.html">
    User Guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    API reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../building/index.html">
    Building from source
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../dev/index.html">
    Development
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../release.html">
    Release notes
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://numpy.org/numpy-tutorials/">
    Learn
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button"
                data-bs-toggle="dropdown" aria-expanded="false"
                aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-external" href="https://numpy.org/neps">
    NEPs
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
      
        <div class="navbar-item">

<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button></div>
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/numpy/numpy" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../user/index.html">
    User Guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    API reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../building/index.html">
    Building from source
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../dev/index.html">
    Development
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../release.html">
    Release notes
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://numpy.org/numpy-tutorials/">
    Learn
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://numpy.org/neps">
    NEPs
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button></div>
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-3"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-3"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-3"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-3">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/numpy/numpy" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../module_structure.html">NumPy’s module structure</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../arrays.html">Array objects</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../ufuncs.html">Universal functions (<code class="xref py py-class docutils literal notranslate"><span class="pre">ufunc</span></code>)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../routines.html">Routines and objects by topic</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../typing.html">Typing (<code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy.typing</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../distutils.html">Packaging</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../c-api/index.html">NumPy C-API</a></li>
</ul>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../array_api.html">Array API standard compatibility</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">CPU/SIMD optimizations</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">CPU Build Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="how-it-works.html">How does the CPU dispatcher work?</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../thread_safety.html">Thread Safety</a></li>
<li class="toctree-l1"><a class="reference internal" href="../global_state.html">Global Configuration Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">NumPy security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../distutils_status_migration.html">Status of <code class="docutils literal notranslate"><span class="pre">numpy.distutils</span></code> and migration advice</a></li>
<li class="toctree-l1"><a class="reference internal" href="../distutils_guide.html"><code class="docutils literal notranslate"><span class="pre">numpy.distutils</span></code> user guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../swig.html">NumPy and SWIG</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">NumPy reference</a></li>
    
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">CPU/SIMD optimizations</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">CPU Build Options</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="cpu-build-options">
<h1>CPU Build Options<a class="headerlink" href="#cpu-build-options" title="Link to this heading">#</a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">#</a></h2>
<p>NumPy provides configuration options to optimize performance based on CPU capabilities.
These options allow you to specify which CPU features to support, balancing performance, compatibility, and binary size.
This document explains how to use these options effectively across various CPU architectures.</p>
</section>
<section id="key-configuration-options">
<h2>Key Configuration Options<a class="headerlink" href="#key-configuration-options" title="Link to this heading">#</a></h2>
<p>NumPy uses several build options to control CPU optimizations:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cpu-baseline</span></code>: The minimum set of CPU features required to run the compiled NumPy.</p>
<ul>
<li><p>Default: <code class="docutils literal notranslate"><span class="pre">min</span></code> (provides compatibility across a wide range of platforms)</p></li>
<li><p>If your target CPU doesn’t support all specified baseline features, NumPy will fail to load with a Python runtime error</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">cpu-baseline-detect</span></code>: controls detection of CPU baseline based on compiler
flags. Default value is <code class="docutils literal notranslate"><span class="pre">auto</span></code> that enables detection if <code class="docutils literal notranslate"><span class="pre">-march=</span></code>
or a similar compiler flag is used. The other possible values are <code class="docutils literal notranslate"><span class="pre">enabled</span></code>
and <code class="docutils literal notranslate"><span class="pre">disabled</span></code> to respective enable or disable it unconditionally.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cpu-dispatch</span></code>: Additional CPU features for which optimized code paths will be generated.</p>
<ul>
<li><p>Default: <code class="docutils literal notranslate"><span class="pre">max</span></code> (enables all available optimizations)</p></li>
<li><p>At runtime, NumPy will automatically select the fastest available code path based on your CPU’s capabilities</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">disable-optimization</span></code>: Completely disables all CPU optimizations.</p>
<ul>
<li><p>Default: <code class="docutils literal notranslate"><span class="pre">false</span></code> (optimizations are enabled)</p></li>
<li><p>When set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, disables all CPU optimized code including dispatch, SIMD, and loop unrolling</p></li>
<li><p>Useful for debugging, testing, or in environments where optimization causes issues</p></li>
</ul>
</li>
</ul>
<p>These options are specified at build time via meson-python arguments:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">.</span> <span class="o">-</span><span class="n">Csetup</span><span class="o">-</span><span class="n">args</span><span class="o">=-</span><span class="n">Dcpu</span><span class="o">-</span><span class="n">baseline</span><span class="o">=</span><span class="s2">&quot;min&quot;</span> <span class="o">-</span><span class="n">Csetup</span><span class="o">-</span><span class="n">args</span><span class="o">=-</span><span class="n">Dcpu</span><span class="o">-</span><span class="n">dispatch</span><span class="o">=</span><span class="s2">&quot;max&quot;</span>
<span class="c1"># or through spin</span>
<span class="n">spin</span> <span class="n">build</span> <span class="o">--</span> <span class="o">-</span><span class="n">Dcpu</span><span class="o">-</span><span class="n">baseline</span><span class="o">=</span><span class="s2">&quot;min&quot;</span> <span class="o">-</span><span class="n">Dcpu</span><span class="o">-</span><span class="n">dispatch</span><span class="o">=</span><span class="s2">&quot;max&quot;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">cpu-baseline</span></code> and <code class="docutils literal notranslate"><span class="pre">cpu-dispatch</span></code> can be set to specific <a class="reference internal" href="#opt-supported-features"><span class="std std-ref">CPU groups, features</span></a>, or <a class="reference internal" href="#opt-special-options"><span class="std std-ref">special options</span></a>
that perform specific actions. The following sections describe these options in detail.</p>
</section>
<section id="common-usage-scenarios">
<h2>Common Usage Scenarios<a class="headerlink" href="#common-usage-scenarios" title="Link to this heading">#</a></h2>
<section id="building-for-local-use-only">
<h3>Building for Local Use Only<a class="headerlink" href="#building-for-local-use-only" title="Link to this heading">#</a></h3>
<p>When building for your machine only and not planning to distribute:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">build</span> <span class="o">--</span><span class="n">wheel</span> <span class="o">-</span><span class="n">Csetup</span><span class="o">-</span><span class="n">args</span><span class="o">=-</span><span class="n">Dcpu</span><span class="o">-</span><span class="n">baseline</span><span class="o">=</span><span class="s2">&quot;native&quot;</span> <span class="o">-</span><span class="n">Csetup</span><span class="o">-</span><span class="n">args</span><span class="o">=-</span><span class="n">Dcpu</span><span class="o">-</span><span class="n">dispatch</span><span class="o">=</span><span class="s2">&quot;none&quot;</span>
</pre></div>
</div>
<p>This automatically detects and uses all CPU features available on your machine.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A fatal error will be raised if <code class="docutils literal notranslate"><span class="pre">native</span></code> isn’t supported by the host platform.</p>
</div>
</section>
<section id="excluding-specific-features">
<h3>Excluding Specific Features<a class="headerlink" href="#excluding-specific-features" title="Link to this heading">#</a></h3>
<p>You may want to exclude certain CPU features from the dispatched features:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># For x86-64: exclude all AVX-512 features</span>
<span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">build</span> <span class="o">--</span><span class="n">wheel</span> <span class="o">-</span><span class="n">Csetup</span><span class="o">-</span><span class="n">args</span><span class="o">=-</span><span class="n">Dcpu</span><span class="o">-</span><span class="n">dispatch</span><span class="o">=</span><span class="s2">&quot;max -X86_V4&quot;</span>

<span class="c1"># For ARM64: exclude SVE</span>
<span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">build</span> <span class="o">--</span><span class="n">wheel</span> <span class="o">-</span><span class="n">Csetup</span><span class="o">-</span><span class="n">args</span><span class="o">=-</span><span class="n">Dcpu</span><span class="o">-</span><span class="n">dispatch</span><span class="o">=</span><span class="s2">&quot;max -SVE&quot;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Excluding a feature will also exclude any successor features that are
implied by the excluded feature. For example, excluding <code class="docutils literal notranslate"><span class="pre">X86_V4</span></code> will
exclude <code class="docutils literal notranslate"><span class="pre">AVX512_ICL</span></code> and <code class="docutils literal notranslate"><span class="pre">AVX512_SPR</span></code> as well.</p>
</div>
</section>
<section id="targeting-older-cpus">
<h3>Targeting Older CPUs<a class="headerlink" href="#targeting-older-cpus" title="Link to this heading">#</a></h3>
<p>On <code class="docutils literal notranslate"><span class="pre">x86-64</span></code>, by default the baseline is set to <code class="docutils literal notranslate"><span class="pre">min</span></code> which maps to <code class="docutils literal notranslate"><span class="pre">X86_V2</span></code>.
This unsuitable for older CPUs (before 2009) or old virtual machines.
To address this, set the baseline to <code class="docutils literal notranslate"><span class="pre">none</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">build</span> <span class="o">--</span><span class="n">wheel</span> <span class="o">-</span><span class="n">Csetup</span><span class="o">-</span><span class="n">args</span><span class="o">=-</span><span class="n">Dcpu</span><span class="o">-</span><span class="n">baseline</span><span class="o">=</span><span class="s2">&quot;none&quot;</span>
</pre></div>
</div>
<p>This will create a build that is compatible with all x86 CPUs, but
without any manual optimizations or SIMD code paths for the baseline.
The build will rely only on dispatched code paths for optimization.</p>
</section>
<section id="targeting-newer-cpus">
<h3>Targeting Newer CPUs<a class="headerlink" href="#targeting-newer-cpus" title="Link to this heading">#</a></h3>
<p>Raising the baseline improves performance for two main reasons:</p>
<ol class="arabic simple">
<li><p>Dispatched kernels don’t cover all code paths</p></li>
<li><p>A higher baseline leads to smaller binary size as the compiler won’t generate code paths for excluded dispatched features</p></li>
</ol>
<p>For CPUs from 2015 and newer, setting the baseline to <code class="docutils literal notranslate"><span class="pre">X86_V3</span></code> may be suitable:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">build</span> <span class="o">--</span><span class="n">wheel</span> <span class="o">-</span><span class="n">Csetup</span><span class="o">-</span><span class="n">args</span><span class="o">=-</span><span class="n">Dcpu</span><span class="o">-</span><span class="n">baseline</span><span class="o">=</span><span class="s2">&quot;min+X86_V3&quot;</span>
</pre></div>
</div>
</section>
</section>
<section id="supported-cpu-features-by-architecture">
<span id="opt-supported-features"></span><h2>Supported CPU Features By Architecture<a class="headerlink" href="#supported-cpu-features-by-architecture" title="Link to this heading">#</a></h2>
<p>NumPy supports optimized code paths for multiple CPU architectures. Below are the supported feature groups for each architecture.
The name of the feature group can be used in the build options <code class="docutils literal notranslate"><span class="pre">cpu-baseline</span></code> and <code class="docutils literal notranslate"><span class="pre">cpu-dispatch</span></code>.</p>
<section id="x86">
<h3>X86<a class="headerlink" href="#x86" title="Link to this heading">#</a></h3>
<div class="pst-scrollable-table-container"><table class="table table-left">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Implies</p></th>
<th class="head"><p>Includes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">X86_V2</span></code></p></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">SSE</span></code> <code class="docutils literal notranslate"><span class="pre">SSE2</span></code> <code class="docutils literal notranslate"><span class="pre">SSE3</span></code> <code class="docutils literal notranslate"><span class="pre">SSSE3</span></code> <code class="docutils literal notranslate"><span class="pre">SSE4_1</span></code> <code class="docutils literal notranslate"><span class="pre">SSE4_2</span></code> <code class="docutils literal notranslate"><span class="pre">POPCNT</span></code> <code class="docutils literal notranslate"><span class="pre">CX16</span></code> <code class="docutils literal notranslate"><span class="pre">LAHF</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">X86_V3</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">X86_V2</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">AVX</span></code> <code class="docutils literal notranslate"><span class="pre">AVX2</span></code> <code class="docutils literal notranslate"><span class="pre">FMA3</span></code> <code class="docutils literal notranslate"><span class="pre">BMI</span></code> <code class="docutils literal notranslate"><span class="pre">BMI2</span></code> <code class="docutils literal notranslate"><span class="pre">LZCNT</span></code> <code class="docutils literal notranslate"><span class="pre">F16C</span></code> <code class="docutils literal notranslate"><span class="pre">MOVBE</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">X86_V4</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">X86_V3</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">AVX512F</span></code> <code class="docutils literal notranslate"><span class="pre">AVX512CD</span></code> <code class="docutils literal notranslate"><span class="pre">AVX512VL</span></code> <code class="docutils literal notranslate"><span class="pre">AVX512BW</span></code> <code class="docutils literal notranslate"><span class="pre">AVX512DQ</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">AVX512_ICL</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">X86_V4</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">AVX512VBMI</span></code> <code class="docutils literal notranslate"><span class="pre">AVX512VBMI2</span></code> <code class="docutils literal notranslate"><span class="pre">AVX512VNNI</span></code> <code class="docutils literal notranslate"><span class="pre">AVX512BITALG</span></code> <code class="docutils literal notranslate"><span class="pre">AVX512VPOPCNTDQ</span></code> <code class="docutils literal notranslate"><span class="pre">AVX512IFMA</span></code> <code class="docutils literal notranslate"><span class="pre">VAES</span></code> <code class="docutils literal notranslate"><span class="pre">GFNI</span></code> <code class="docutils literal notranslate"><span class="pre">VPCLMULQDQ</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">AVX512_SPR</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">AVX512_ICL</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">AVX512FP16</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<p>These groups correspond to CPU generations:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X86_V2</span></code>: x86-64-v2 microarchitectures (CPUs since 2009)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">X86_V3</span></code>: x86-64-v3 microarchitectures (CPUs since 2015)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">X86_V4</span></code>: x86-64-v4 microarchitectures (AVX-512 capable CPUs)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AVX512_ICL</span></code>: Intel Ice Lake and similar CPUs</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AVX512_SPR</span></code>: Intel Sapphire Rapids and newer CPUs</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>On 32-bit x86, <code class="docutils literal notranslate"><span class="pre">cx16</span></code> is excluded from <code class="docutils literal notranslate"><span class="pre">X86_V2</span></code>.</p>
</div>
</section>
<section id="on-ibm-power-big-endian">
<h3>On IBM/POWER big-endian<a class="headerlink" href="#on-ibm-power-big-endian" title="Link to this heading">#</a></h3>
<div class="pst-scrollable-table-container"><table class="table table-left">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Implies</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">VSX</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">VSX2</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VSX</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">VSX3</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VSX</span></code> <code class="docutils literal notranslate"><span class="pre">VSX2</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">VSX4</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VSX</span></code> <code class="docutils literal notranslate"><span class="pre">VSX2</span></code> <code class="docutils literal notranslate"><span class="pre">VSX3</span></code></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="on-ibm-power-little-endian">
<h3>On IBM/POWER little-endian<a class="headerlink" href="#on-ibm-power-little-endian" title="Link to this heading">#</a></h3>
<div class="pst-scrollable-table-container"><table class="table table-left">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Implies</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">VSX</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VSX2</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">VSX2</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VSX</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">VSX3</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VSX</span></code> <code class="docutils literal notranslate"><span class="pre">VSX2</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">VSX4</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VSX</span></code> <code class="docutils literal notranslate"><span class="pre">VSX2</span></code> <code class="docutils literal notranslate"><span class="pre">VSX3</span></code></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="on-armv7-a32">
<h3>On ARMv7/A32<a class="headerlink" href="#on-armv7-a32" title="Link to this heading">#</a></h3>
<div class="pst-scrollable-table-container"><table class="table table-left">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Implies</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">NEON</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">NEON_FP16</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NEON</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">NEON_VFPV4</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NEON</span></code> <code class="docutils literal notranslate"><span class="pre">NEON_FP16</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ASIMD</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NEON</span></code> <code class="docutils literal notranslate"><span class="pre">NEON_FP16</span></code> <code class="docutils literal notranslate"><span class="pre">NEON_VFPV4</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ASIMDHP</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NEON</span></code> <code class="docutils literal notranslate"><span class="pre">NEON_FP16</span></code> <code class="docutils literal notranslate"><span class="pre">NEON_VFPV4</span></code> <code class="docutils literal notranslate"><span class="pre">ASIMD</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ASIMDDP</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NEON</span></code> <code class="docutils literal notranslate"><span class="pre">NEON_FP16</span></code> <code class="docutils literal notranslate"><span class="pre">NEON_VFPV4</span></code> <code class="docutils literal notranslate"><span class="pre">ASIMD</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ASIMDFHM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NEON</span></code> <code class="docutils literal notranslate"><span class="pre">NEON_FP16</span></code> <code class="docutils literal notranslate"><span class="pre">NEON_VFPV4</span></code> <code class="docutils literal notranslate"><span class="pre">ASIMD</span></code> <code class="docutils literal notranslate"><span class="pre">ASIMDHP</span></code></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="on-armv8-a64">
<h3>On ARMv8/A64<a class="headerlink" href="#on-armv8-a64" title="Link to this heading">#</a></h3>
<div class="pst-scrollable-table-container"><table class="table table-left">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Implies</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">NEON</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NEON_FP16</span></code> <code class="docutils literal notranslate"><span class="pre">NEON_VFPV4</span></code> <code class="docutils literal notranslate"><span class="pre">ASIMD</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">NEON_FP16</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NEON</span></code> <code class="docutils literal notranslate"><span class="pre">NEON_VFPV4</span></code> <code class="docutils literal notranslate"><span class="pre">ASIMD</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">NEON_VFPV4</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NEON</span></code> <code class="docutils literal notranslate"><span class="pre">NEON_FP16</span></code> <code class="docutils literal notranslate"><span class="pre">ASIMD</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ASIMD</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NEON</span></code> <code class="docutils literal notranslate"><span class="pre">NEON_FP16</span></code> <code class="docutils literal notranslate"><span class="pre">NEON_VFPV4</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ASIMDHP</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NEON</span></code> <code class="docutils literal notranslate"><span class="pre">NEON_FP16</span></code> <code class="docutils literal notranslate"><span class="pre">NEON_VFPV4</span></code> <code class="docutils literal notranslate"><span class="pre">ASIMD</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ASIMDDP</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NEON</span></code> <code class="docutils literal notranslate"><span class="pre">NEON_FP16</span></code> <code class="docutils literal notranslate"><span class="pre">NEON_VFPV4</span></code> <code class="docutils literal notranslate"><span class="pre">ASIMD</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ASIMDFHM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NEON</span></code> <code class="docutils literal notranslate"><span class="pre">NEON_FP16</span></code> <code class="docutils literal notranslate"><span class="pre">NEON_VFPV4</span></code> <code class="docutils literal notranslate"><span class="pre">ASIMD</span></code> <code class="docutils literal notranslate"><span class="pre">ASIMDHP</span></code></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="on-ibm-zsystem-s390x">
<h3>On IBM/ZSYSTEM(S390X)<a class="headerlink" href="#on-ibm-zsystem-s390x" title="Link to this heading">#</a></h3>
<div class="pst-scrollable-table-container"><table class="table table-left">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Implies</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">VX</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">VXE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VX</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">VXE2</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VX</span></code> <code class="docutils literal notranslate"><span class="pre">VXE</span></code></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="on-riscv64">
<h3>On RISCV64<a class="headerlink" href="#on-riscv64" title="Link to this heading">#</a></h3>
<div class="pst-scrollable-table-container"><table class="table table-left">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Implies</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RVV</span></code></p></td>
<td></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="special-options">
<span id="opt-special-options"></span><h2>Special Options<a class="headerlink" href="#special-options" title="Link to this heading">#</a></h2>
<p>Beyond specific feature names, you can use these special values:</p>
<section id="none">
<h3><code class="docutils literal notranslate"><span class="pre">NONE</span></code><a class="headerlink" href="#none" title="Link to this heading">#</a></h3>
<p>Enables no features (equivalent to an empty string).</p>
</section>
<section id="native">
<h3><code class="docutils literal notranslate"><span class="pre">NATIVE</span></code><a class="headerlink" href="#native" title="Link to this heading">#</a></h3>
<p>Enables all features supported by the host CPU.</p>
</section>
<section id="detect">
<h3><code class="docutils literal notranslate"><span class="pre">DETECT</span></code><a class="headerlink" href="#detect" title="Link to this heading">#</a></h3>
<p>Detects the features enabled by the compiler. This option is appended by default
to <code class="docutils literal notranslate"><span class="pre">cpu-baseline</span></code> if <code class="docutils literal notranslate"><span class="pre">-march</span></code>, <code class="docutils literal notranslate"><span class="pre">-mcpu</span></code>, <code class="docutils literal notranslate"><span class="pre">-xhost</span></code>, or <code class="docutils literal notranslate"><span class="pre">/QxHost</span></code> is set in
the environment variable <code class="docutils literal notranslate"><span class="pre">CFLAGS</span></code> unless <code class="docutils literal notranslate"><span class="pre">cpu-baseline-detect</span></code> is <code class="docutils literal notranslate"><span class="pre">disabled</span></code>.</p>
</section>
<section id="min">
<h3><code class="docutils literal notranslate"><span class="pre">MIN</span></code><a class="headerlink" href="#min" title="Link to this heading">#</a></h3>
<p>Enables the minimum CPU features for each architecture:</p>
<div class="pst-scrollable-table-container"><table class="table table-left">
<thead>
<tr class="row-odd"><th class="head"><p>For Arch</p></th>
<th class="head"><p>Implies</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>x86 (32-bit)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">X86_V2</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>x86-64</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">X86_V2</span></code></p></td>
</tr>
<tr class="row-even"><td><p>IBM/POWER (big-endian)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NONE</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>IBM/POWER (little-endian)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VSX</span></code> <code class="docutils literal notranslate"><span class="pre">VSX2</span></code></p></td>
</tr>
<tr class="row-even"><td><p>ARMv7/ARMHF</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NONE</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>ARMv8/AArch64</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NEON</span></code> <code class="docutils literal notranslate"><span class="pre">NEON_FP16</span></code> <code class="docutils literal notranslate"><span class="pre">NEON_VFPV4</span></code> <code class="docutils literal notranslate"><span class="pre">ASIMD</span></code></p></td>
</tr>
<tr class="row-even"><td><p>IBM/ZSYSTEM(S390X)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NONE</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>riscv64</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NONE</span></code></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="max">
<h3><code class="docutils literal notranslate"><span class="pre">MAX</span></code><a class="headerlink" href="#max" title="Link to this heading">#</a></h3>
<p>Enables all features supported by the compiler and platform.</p>
</section>
<section id="operator-operators">
<h3>Operator Operators (<code class="docutils literal notranslate"><span class="pre">-</span></code>/<code class="docutils literal notranslate"><span class="pre">+</span></code>)<a class="headerlink" href="#operator-operators" title="Link to this heading">#</a></h3>
<p>Remove or add specific features, useful with <code class="docutils literal notranslate"><span class="pre">MAX</span></code>, <code class="docutils literal notranslate"><span class="pre">MIN</span></code>, and <code class="docutils literal notranslate"><span class="pre">NATIVE</span></code>:</p>
<ul class="simple">
<li><p>Adding a feature (<code class="docutils literal notranslate"><span class="pre">+</span></code>) includes all implied features</p></li>
<li><p>Removing a feature (<code class="docutils literal notranslate"><span class="pre">-</span></code>) excludes all successor features that imply the removed feature</p></li>
</ul>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">build</span> <span class="o">--</span><span class="n">wheel</span> <span class="o">-</span><span class="n">Csetup</span><span class="o">-</span><span class="n">args</span><span class="o">=-</span><span class="n">Dcpu</span><span class="o">-</span><span class="n">dispatch</span><span class="o">=</span><span class="s2">&quot;max-X86_V4&quot;</span>
<span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">build</span> <span class="o">--</span><span class="n">wheel</span> <span class="o">-</span><span class="n">Csetup</span><span class="o">-</span><span class="n">args</span><span class="o">=-</span><span class="n">Dcpu</span><span class="o">-</span><span class="n">baseline</span><span class="o">=</span><span class="s2">&quot;min+X86_V4&quot;</span>
</pre></div>
</div>
</section>
</section>
<section id="usage-and-behaviors">
<h2>Usage And Behaviors<a class="headerlink" href="#usage-and-behaviors" title="Link to this heading">#</a></h2>
<section id="case-insensitivity">
<h3>Case Insensitivity<a class="headerlink" href="#case-insensitivity" title="Link to this heading">#</a></h3>
<p>CPU features and options are case-insensitive:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">build</span> <span class="o">--</span><span class="n">wheel</span> <span class="o">-</span><span class="n">Csetup</span><span class="o">-</span><span class="n">args</span><span class="o">=-</span><span class="n">Dcpu</span><span class="o">-</span><span class="n">dispatch</span><span class="o">=</span><span class="s2">&quot;X86_v4&quot;</span>
</pre></div>
</div>
</section>
<section id="mixing-features-across-architectures">
<h3>Mixing Features across Architectures<a class="headerlink" href="#mixing-features-across-architectures" title="Link to this heading">#</a></h3>
<p>You can mix features from different architectures:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">build</span> <span class="o">--</span><span class="n">wheel</span> <span class="o">-</span><span class="n">Csetup</span><span class="o">-</span><span class="n">args</span><span class="o">=-</span><span class="n">Dcpu</span><span class="o">-</span><span class="n">baseline</span><span class="o">=</span><span class="s2">&quot;X86_V4 VSX4 SVE&quot;</span>
</pre></div>
</div>
</section>
<section id="order-independence">
<h3>Order Independence<a class="headerlink" href="#order-independence" title="Link to this heading">#</a></h3>
<p>The order of specified features doesn’t matter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">build</span> <span class="o">--</span><span class="n">wheel</span> <span class="o">-</span><span class="n">Csetup</span><span class="o">-</span><span class="n">args</span><span class="o">=-</span><span class="n">Dcpu</span><span class="o">-</span><span class="n">dispatch</span><span class="o">=</span><span class="s2">&quot;SVE X86_V4 x86_v3&quot;</span>
</pre></div>
</div>
</section>
<section id="separators">
<h3>Separators<a class="headerlink" href="#separators" title="Link to this heading">#</a></h3>
<p>You can use spaces or commas as separators:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># All of these are equivalent</span>
<span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">build</span> <span class="o">--</span><span class="n">wheel</span> <span class="o">-</span><span class="n">Csetup</span><span class="o">-</span><span class="n">args</span><span class="o">=-</span><span class="n">Dcpu</span><span class="o">-</span><span class="n">dispatch</span><span class="o">=</span><span class="s2">&quot;X86_V2 X86_V4&quot;</span>
<span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">build</span> <span class="o">--</span><span class="n">wheel</span> <span class="o">-</span><span class="n">Csetup</span><span class="o">-</span><span class="n">args</span><span class="o">=-</span><span class="n">Dcpu</span><span class="o">-</span><span class="n">dispatch</span><span class="o">=</span><span class="n">X86_V2</span><span class="p">,</span><span class="n">X86_V4</span>
</pre></div>
</div>
</section>
<section id="feature-combination">
<h3>Feature Combination<a class="headerlink" href="#feature-combination" title="Link to this heading">#</a></h3>
<p>Features specified in options are automatically combined with all implied features:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">build</span> <span class="o">--</span><span class="n">wheel</span> <span class="o">-</span><span class="n">Csetup</span><span class="o">-</span><span class="n">args</span><span class="o">=-</span><span class="n">Dcpu</span><span class="o">-</span><span class="n">baseline</span><span class="o">=</span><span class="n">X86_V4</span>
</pre></div>
</div>
<p>Equivalent to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">build</span> <span class="o">--</span><span class="n">wheel</span> <span class="o">-</span><span class="n">Csetup</span><span class="o">-</span><span class="n">args</span><span class="o">=-</span><span class="n">Dcpu</span><span class="o">-</span><span class="n">baseline</span><span class="o">=</span><span class="s2">&quot;X86_V2 X86_V3 X86_V4&quot;</span>
</pre></div>
</div>
</section>
<section id="baseline-overlapping">
<h3>Baseline Overlapping<a class="headerlink" href="#baseline-overlapping" title="Link to this heading">#</a></h3>
<p>Features specified in <code class="docutils literal notranslate"><span class="pre">cpu-baseline</span></code> will be excluded from the <code class="docutils literal notranslate"><span class="pre">cpu-dispatch</span></code> features,
along with their implied features, but without excluding successor features that imply them.</p>
<p>For instance, if you specify <code class="docutils literal notranslate"><span class="pre">cpu-baseline=&quot;X86_V4&quot;</span></code>, it will exclude <code class="docutils literal notranslate"><span class="pre">X86_V4</span></code> and its
implied features <code class="docutils literal notranslate"><span class="pre">X86_V2</span></code> and <code class="docutils literal notranslate"><span class="pre">X86_V3</span></code> from the <code class="docutils literal notranslate"><span class="pre">cpu-dispatch</span></code> features.</p>
</section>
<section id="compile-time-detection">
<h3>Compile-time Detection<a class="headerlink" href="#compile-time-detection" title="Link to this heading">#</a></h3>
<p>Specifying features to <code class="docutils literal notranslate"><span class="pre">cpu-dispatch</span></code> or <code class="docutils literal notranslate"><span class="pre">cpu-baseline</span></code> doesn’t explicitly enable them.
Features are detected at compile time, and the maximum available features based on your
specified options will be enabled according to toolchain and platform support.</p>
<p>This detection occurs by testing feature availability in the compiler through compile-time
source files containing common intrinsics for the specified features. If both the compiler
and assembler support the feature, it will be enabled.</p>
<p>For example, if you specify <code class="docutils literal notranslate"><span class="pre">cpu-dispatch=&quot;AVX512_ICL&quot;</span></code> but your compiler doesn’t support it,
the feature will be excluded from the build. However, any implied features will still be
enabled if they’re supported.</p>
</section>
</section>
<section id="platform-differences">
<span id="opt-platform-differences"></span><h2>Platform differences<a class="headerlink" href="#platform-differences" title="Link to this heading">#</a></h2>
<p>Some exceptional conditions force us to link some features together when it come to
certain compilers or architectures, resulting in the impossibility of building them separately.</p>
<p>These conditions can be divided into two parts, as follows:</p>
<p><strong>Architectural compatibility</strong></p>
<p>The need to align certain CPU features that are assured to be supported by
successive generations of the same architecture, some cases:</p>
<ul class="simple">
<li><p>On ppc64le <code class="docutils literal notranslate"><span class="pre">VSX(ISA</span> <span class="pre">2.06)</span></code> and <code class="docutils literal notranslate"><span class="pre">VSX2(ISA</span> <span class="pre">2.07)</span></code> both imply one another since the
first generation that supports little-endian mode is <code class="docutils literal notranslate"><span class="pre">Power-8(ISA</span> <span class="pre">2.07)</span></code></p></li>
<li><p>On AArch64 <code class="docutils literal notranslate"><span class="pre">NEON</span> <span class="pre">NEON_FP16</span> <span class="pre">NEON_VFPV4</span> <span class="pre">ASIMD</span></code> implies each other since they are part of the
hardware baseline.</p></li>
</ul>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># On ARMv8/A64, specify NEON is going to enable Advanced SIMD</span>
<span class="c1"># and all predecessor extensions</span>
<span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">build</span> <span class="o">--</span><span class="n">wheel</span> <span class="o">-</span><span class="n">Csetup</span><span class="o">-</span><span class="n">args</span><span class="o">=-</span><span class="n">Dcpu</span><span class="o">-</span><span class="n">baseline</span><span class="o">=</span><span class="n">neon</span>
<span class="c1"># which is equivalent to</span>
<span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">build</span> <span class="o">--</span><span class="n">wheel</span> <span class="o">-</span><span class="n">Csetup</span><span class="o">-</span><span class="n">args</span><span class="o">=-</span><span class="n">Dcpu</span><span class="o">-</span><span class="n">baseline</span><span class="o">=</span><span class="s2">&quot;neon neon_fp16 neon_vfpv4 asimd&quot;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please take a deep look at <a class="reference internal" href="#opt-supported-features"><span class="std std-ref">Supported CPU Features By Architecture</span></a>,
in order to determine the features that imply one another.</p>
</div>
</section>
<section id="build-report">
<span id="opt-build-report"></span><h2>Build report<a class="headerlink" href="#build-report" title="Link to this heading">#</a></h2>
<p>In most cases, the CPU build options do not produce any fatal errors that lead to hanging the build.
Most of the errors that may appear in the build log serve as heavy warnings due to the lack of some
expected CPU features by the compiler.</p>
<p>So we strongly recommend checking the final report log, to be aware of what kind of CPU features
are enabled and what are not.</p>
<p>You can find the final report of CPU optimizations by tracing meson build log,
and here is how it looks on x86_64/gcc:</p>
<style>#build-report .highlight-bash pre{max-height:450px; overflow-y: scroll;}</style><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Test<span class="w"> </span>features<span class="w"> </span><span class="s2">&quot;X86_V2&quot;</span><span class="w"> </span>:<span class="w"> </span>Supported<span class="w"> </span>
Test<span class="w"> </span>features<span class="w"> </span><span class="s2">&quot;X86_V3&quot;</span><span class="w"> </span>:<span class="w"> </span>Supported<span class="w"> </span>
Test<span class="w"> </span>features<span class="w"> </span><span class="s2">&quot;X86_V4&quot;</span><span class="w"> </span>:<span class="w"> </span>Supported<span class="w"> </span>
Test<span class="w"> </span>features<span class="w"> </span><span class="s2">&quot;AVX512_ICL&quot;</span><span class="w"> </span>:<span class="w"> </span>Supported<span class="w"> </span>
Test<span class="w"> </span>features<span class="w"> </span><span class="s2">&quot;AVX512_SPR&quot;</span><span class="w"> </span>:<span class="w"> </span>Supported<span class="w"> </span>
Configuring<span class="w"> </span>npy_cpu_dispatch_config.h<span class="w"> </span>using<span class="w"> </span>configuration
Message:<span class="w"> </span>
CPU<span class="w"> </span>Optimization<span class="w"> </span>Options
<span class="w">  </span>baseline:
<span class="w">    </span>Requested<span class="w"> </span>:<span class="w"> </span>min
<span class="w">    </span>Enabled<span class="w">   </span>:<span class="w"> </span>X86_V2
<span class="w">  </span>dispatch:
<span class="w">    </span>Requested<span class="w"> </span>:<span class="w"> </span>max
<span class="w">    </span>Enabled<span class="w">   </span>:<span class="w"> </span>X86_V3<span class="w"> </span>X86_V4<span class="w"> </span>AVX512_ICL<span class="w"> </span>AVX512_SPR

Generating<span class="w"> </span>multi-targets<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s2">&quot;_umath_tests.dispatch.h&quot;</span><span class="w"> </span>
<span class="w">  </span>Enabled<span class="w"> </span>targets:<span class="w"> </span>X86_V3,<span class="w"> </span>baseline
Generating<span class="w"> </span>multi-targets<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s2">&quot;argfunc.dispatch.h&quot;</span><span class="w"> </span>
<span class="w">  </span>Enabled<span class="w"> </span>targets:<span class="w"> </span>X86_V4,<span class="w"> </span>X86_V3,<span class="w"> </span>baseline
Generating<span class="w"> </span>multi-targets<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s2">&quot;x86_simd_argsort.dispatch.h&quot;</span><span class="w"> </span>
<span class="w">  </span>Enabled<span class="w"> </span>targets:<span class="w"> </span>X86_V4,<span class="w"> </span>X86_V3
Generating<span class="w"> </span>multi-targets<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s2">&quot;x86_simd_qsort.dispatch.h&quot;</span><span class="w"> </span>
<span class="w">  </span>Enabled<span class="w"> </span>targets:<span class="w"> </span>X86_V4,<span class="w"> </span>X86_V3
Generating<span class="w"> </span>multi-targets<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s2">&quot;x86_simd_qsort_16bit.dispatch.h&quot;</span><span class="w"> </span>
<span class="w">  </span>Enabled<span class="w"> </span>targets:<span class="w"> </span>AVX512_SPR,<span class="w"> </span>AVX512_ICL
Generating<span class="w"> </span>multi-targets<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s2">&quot;highway_qsort.dispatch.h&quot;</span><span class="w"> </span>
<span class="w">  </span>Enabled<span class="w"> </span>targets:<span class="w"> </span>
Generating<span class="w"> </span>multi-targets<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s2">&quot;highway_qsort_16bit.dispatch.h&quot;</span><span class="w"> </span>
<span class="w">  </span>Enabled<span class="w"> </span>targets:<span class="w"> </span>
Generating<span class="w"> </span>multi-targets<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s2">&quot;loops_arithm_fp.dispatch.h&quot;</span><span class="w"> </span>
<span class="w">  </span>Enabled<span class="w"> </span>targets:<span class="w"> </span>X86_V3,<span class="w"> </span>baseline
Generating<span class="w"> </span>multi-targets<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s2">&quot;loops_arithmetic.dispatch.h&quot;</span><span class="w"> </span>
<span class="w">  </span>Enabled<span class="w"> </span>targets:<span class="w"> </span>X86_V4,<span class="w"> </span>X86_V3,<span class="w"> </span>baseline
Generating<span class="w"> </span>multi-targets<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s2">&quot;loops_comparison.dispatch.h&quot;</span><span class="w"> </span>
<span class="w">  </span>Enabled<span class="w"> </span>targets:<span class="w"> </span>X86_V4,<span class="w"> </span>X86_V3,<span class="w"> </span>baseline
Generating<span class="w"> </span>multi-targets<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s2">&quot;loops_exponent_log.dispatch.h&quot;</span><span class="w"> </span>
<span class="w">  </span>Enabled<span class="w"> </span>targets:<span class="w"> </span>X86_V4,<span class="w"> </span>X86_V3,<span class="w"> </span>baseline
Generating<span class="w"> </span>multi-targets<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s2">&quot;loops_hyperbolic.dispatch.h&quot;</span><span class="w"> </span>
<span class="w">  </span>Enabled<span class="w"> </span>targets:<span class="w"> </span>X86_V4,<span class="w"> </span>X86_V3,<span class="w"> </span>baseline
Generating<span class="w"> </span>multi-targets<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s2">&quot;loops_logical.dispatch.h&quot;</span><span class="w"> </span>
<span class="w">  </span>Enabled<span class="w"> </span>targets:<span class="w"> </span>X86_V4,<span class="w"> </span>X86_V3,<span class="w"> </span>baseline
Generating<span class="w"> </span>multi-targets<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s2">&quot;loops_minmax.dispatch.h&quot;</span><span class="w"> </span>
<span class="w">  </span>Enabled<span class="w"> </span>targets:<span class="w"> </span>X86_V4,<span class="w"> </span>X86_V3,<span class="w"> </span>baseline
Generating<span class="w"> </span>multi-targets<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s2">&quot;loops_modulo.dispatch.h&quot;</span><span class="w"> </span>
<span class="w">  </span>Enabled<span class="w"> </span>targets:<span class="w"> </span>baseline
Generating<span class="w"> </span>multi-targets<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s2">&quot;loops_trigonometric.dispatch.h&quot;</span><span class="w"> </span>
<span class="w">  </span>Enabled<span class="w"> </span>targets:<span class="w"> </span>X86_V4,<span class="w"> </span>X86_V3,<span class="w"> </span>baseline
Generating<span class="w"> </span>multi-targets<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s2">&quot;loops_umath_fp.dispatch.h&quot;</span><span class="w"> </span>
<span class="w">  </span>Enabled<span class="w"> </span>targets:<span class="w"> </span>X86_V4,<span class="w"> </span>baseline
Generating<span class="w"> </span>multi-targets<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s2">&quot;loops_unary.dispatch.h&quot;</span><span class="w"> </span>
<span class="w">  </span>Enabled<span class="w"> </span>targets:<span class="w"> </span>X86_V4,<span class="w"> </span>baseline
Generating<span class="w"> </span>multi-targets<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s2">&quot;loops_unary_fp.dispatch.h&quot;</span><span class="w"> </span>
<span class="w">  </span>Enabled<span class="w"> </span>targets:<span class="w"> </span>baseline
Generating<span class="w"> </span>multi-targets<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s2">&quot;loops_unary_fp_le.dispatch.h&quot;</span><span class="w"> </span>
<span class="w">  </span>Enabled<span class="w"> </span>targets:<span class="w"> </span>baseline
Generating<span class="w"> </span>multi-targets<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s2">&quot;loops_unary_complex.dispatch.h&quot;</span><span class="w"> </span>
<span class="w">  </span>Enabled<span class="w"> </span>targets:<span class="w"> </span>X86_V3,<span class="w"> </span>baseline
Generating<span class="w"> </span>multi-targets<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s2">&quot;loops_autovec.dispatch.h&quot;</span><span class="w"> </span>
<span class="w">  </span>Enabled<span class="w"> </span>targets:<span class="w"> </span>X86_V3,<span class="w"> </span>baseline
Generating<span class="w"> </span>multi-targets<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s2">&quot;loops_half.dispatch.h&quot;</span><span class="w"> </span>
<span class="w">  </span>Enabled<span class="w"> </span>targets:<span class="w"> </span>AVX512_SPR,<span class="w"> </span>X86_V4,<span class="w"> </span>baseline
WARNING:<span class="w"> </span>Project<span class="w"> </span>targets<span class="w"> </span><span class="s1">&#39;&gt;=1.5.2&#39;</span><span class="w"> </span>but<span class="w"> </span>uses<span class="w"> </span>feature<span class="w"> </span>deprecated<span class="w"> </span>since<span class="w"> </span><span class="s1">&#39;1.3.0&#39;</span>:<span class="w"> </span>Source<span class="w"> </span>file<span class="w"> </span>src/umath/svml/linux/avx512/svml_z0_acos_d_la.s<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span><span class="s1">&#39;objects&#39;</span><span class="w"> </span>kwarg<span class="w"> </span>is<span class="w"> </span>not<span class="w"> </span>an<span class="w"> </span>object..
Generating<span class="w"> </span>multi-targets<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s2">&quot;_simd.dispatch.h&quot;</span><span class="w"> </span>
<span class="w">  </span>Enabled<span class="w"> </span>targets:<span class="w"> </span>X86_V3,<span class="w"> </span>X86_V4,<span class="w"> </span>baseline
</pre></div>
</div>
</section>
<section id="runtime-dispatch">
<span id="runtime-simd-dispatch"></span><h2>Runtime Dispatch<a class="headerlink" href="#runtime-dispatch" title="Link to this heading">#</a></h2>
<p>Importing NumPy triggers a scan of the available CPU features from the set
of dispatchable features. You can restrict this scan by setting the
environment variable <code class="docutils literal notranslate"><span class="pre">NPY_DISABLE_CPU_FEATURES</span></code> to a comma-, tab-, or
space-separated list of features to disable.</p>
<p>For instance, on <code class="docutils literal notranslate"><span class="pre">x86_64</span></code> this will disable <code class="docutils literal notranslate"><span class="pre">X86_V4</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">NPY_DISABLE_CPU_FEATURES</span><span class="o">=</span><span class="s2">&quot;X86_V4&quot;</span>
</pre></div>
</div>
<p>This will raise an error if parsing fails or if the feature was not enabled through the <code class="docutils literal notranslate"><span class="pre">cpu-dispatch</span></code> build option.
If the feature is supported by the build but not available on the current CPU, a warning will be emitted instead.</p>
</section>
<section id="tracking-dispatched-functions">
<h2>Tracking Dispatched Functions<a class="headerlink" href="#tracking-dispatched-functions" title="Link to this heading">#</a></h2>
<p>You can discover which CPU targets are enabled for different optimized functions using
the Python function <code class="docutils literal notranslate"><span class="pre">numpy.lib.introspect.opt_func_info</span></code>.</p>
<p>This function offers two optional arguments for filtering results:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">func_name</span></code> - For refining function names</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">signature</span></code> - For specifying data types in the signatures</p></li>
</ol>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="o">&gt;&gt;</span> <span class="n">func_info</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">lib</span><span class="o">.</span><span class="n">introspect</span><span class="o">.</span><span class="n">opt_func_info</span><span class="p">(</span><span class="n">func_name</span><span class="o">=</span><span class="s1">&#39;add|abs&#39;</span><span class="p">,</span> <span class="n">signature</span><span class="o">=</span><span class="s1">&#39;float64|complex64&#39;</span><span class="p">)</span>
 <span class="o">&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">func_info</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
 <span class="p">{</span>
  <span class="s2">&quot;absolute&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;dd&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;current&quot;</span><span class="p">:</span> <span class="s2">&quot;baseline(X86_V2)&quot;</span><span class="p">,</span>
      <span class="s2">&quot;available&quot;</span><span class="p">:</span> <span class="s2">&quot;baseline(X86_V2)&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;Ff&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;current&quot;</span><span class="p">:</span> <span class="s2">&quot;X86_V3&quot;</span><span class="p">,</span>
      <span class="s2">&quot;available&quot;</span><span class="p">:</span> <span class="s2">&quot;X86_V3 baseline(X86_V2)&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;Dd&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;current&quot;</span><span class="p">:</span> <span class="s2">&quot;X86_V3&quot;</span><span class="p">,</span>
      <span class="s2">&quot;available&quot;</span><span class="p">:</span> <span class="s2">&quot;X86_V3 baseline(X86_V2)&quot;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;add&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;ddd&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;current&quot;</span><span class="p">:</span> <span class="s2">&quot;X86_V3&quot;</span><span class="p">,</span>
      <span class="s2">&quot;available&quot;</span><span class="p">:</span> <span class="s2">&quot;X86_V3 baseline(X86_V2)&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;FFF&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;current&quot;</span><span class="p">:</span> <span class="s2">&quot;X86_V3&quot;</span><span class="p">,</span>
      <span class="s2">&quot;available&quot;</span><span class="p">:</span> <span class="s2">&quot;X86_V3 baseline(X86_V2)&quot;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="index.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">CPU/SIMD optimizations</p>
      </div>
    </a>
    <a class="right-next"
       href="how-it-works.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">How does the CPU dispatcher work?</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#key-configuration-options">Key Configuration Options</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#common-usage-scenarios">Common Usage Scenarios</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#building-for-local-use-only">Building for Local Use Only</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#excluding-specific-features">Excluding Specific Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#targeting-older-cpus">Targeting Older CPUs</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#targeting-newer-cpus">Targeting Newer CPUs</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#supported-cpu-features-by-architecture">Supported CPU Features By Architecture</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#x86">X86</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#on-ibm-power-big-endian">On IBM/POWER big-endian</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#on-ibm-power-little-endian">On IBM/POWER little-endian</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#on-armv7-a32">On ARMv7/A32</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#on-armv8-a64">On ARMv8/A64</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#on-ibm-zsystem-s390x">On IBM/ZSYSTEM(S390X)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#on-riscv64">On RISCV64</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#special-options">Special Options</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#none"><code class="docutils literal notranslate"><span class="pre">NONE</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#native"><code class="docutils literal notranslate"><span class="pre">NATIVE</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#detect"><code class="docutils literal notranslate"><span class="pre">DETECT</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#min"><code class="docutils literal notranslate"><span class="pre">MIN</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#max"><code class="docutils literal notranslate"><span class="pre">MAX</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#operator-operators">Operator Operators (<code class="docutils literal notranslate"><span class="pre">-</span></code>/<code class="docutils literal notranslate"><span class="pre">+</span></code>)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#usage-and-behaviors">Usage And Behaviors</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#case-insensitivity">Case Insensitivity</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mixing-features-across-architectures">Mixing Features across Architectures</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#order-independence">Order Independence</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#separators">Separators</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#feature-combination">Feature Combination</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#baseline-overlapping">Baseline Overlapping</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#compile-time-detection">Compile-time Detection</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#platform-differences">Platform differences</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#build-report">Build report</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#runtime-dispatch">Runtime Dispatch</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tracking-dispatched-functions">Tracking Dispatched Functions</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2008-2025, NumPy Developers.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>